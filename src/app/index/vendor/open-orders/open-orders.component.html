<div class="p-0 w-full flex gap-4 lg:max-h-[980px] h-full overflow-y-scroll">
    <div class="w-1/2 lg:w-2/3 flex flex-col gap-y-5 h-full [&>*]:grow">
        <div class="bg-white rounded-lg py-5 px-5 lg:px-10">
            <h2 class="text-xl uppercase mb-3">Incoming Orders</h2>
            <div class="flex flex-wrap order-grid gap-3">
                <div
                    *ngFor="let order of vendorOrders; let i = index"
                    (click)="openAcceptIncomingOrderModal(i)"
                    class="order-tile rounded-lg relative overflow-hidden aspect-square w-[160px] cursor-pointer"
                >
                    <img
                        src="{{
                            order.lightboxImages[0]?.imageUrl ?? 'assets/assets/placeholders/issue-placeholder.jpg'
                        }}"
                        class="rounded-lg object-cover h-full"
                        alt="bg image"
                    />
                    <div
                        class="
                            absolute
                            top-0
                            h-full
                            w-full
                            text-white
                            bg-opacity-40
                            text-left
                            px-3
                            pb-3
                            flex
                            justify-end
                            flex-col
                        "
                    >
                        <div class="font-normal uppercase text-sm">
                            <span>{{ order.serviceOrder.title ?? 'Null title' }}</span>
                        </div>
                        <div class="flex items-end justify-between">
                            <div
                                class="
                                    flex flex-col
                                    items-left
                                    justify-start
                                    text-white text-opacity-50
                                    font-light
                                    space-y-1
                                    text-2xs
                                    uppercase
                                "
                            >
                                <span>{{ order.yachts.hailingPort ?? 'Newport Beach, CA' }}</span>
                            </div>
                            <img src="assets/assets/images/icons/icon-map-fade.svg" alt="" class="w-5" />
                        </div>
                    </div>
                    <div class="absolute top-2 right-2 text-white" [hidden]="selectedIndex !== i">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path
                                fill-rule="evenodd"
                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                clip-rule="evenodd"
                            />
                        </svg>
                    </div>
                </div>

                <!-- <div class="flex justify-between mt-6 items-center w-full">
                    <nav class="inline-flex rounded-xl overflow-hidden">
                        <a class="bg-gray-200 text-gray-700 py-1 px-4 text-sm">Prev</a>
                        <a class="bg-sky-600 py-1 px-3 text-sm text-white">1</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">2</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">3</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">...</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">10</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">11</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">12</a>
                        <a class="bg-gray-200 text-gray-700 py-1 px-4 text-sm">Next</a>
                    </nav>
                    <span class="text-xs uppercase text-gray-500">Showing 4 of 12</span>
                </div> -->
            </div>
        </div>
        <div class="bg-white rounded-lg py-5 px-5 lg:px-10">
            <h2 class="text-xl uppercase mb-3">Open Orders</h2>
            <div class="flex flex-wrap order-grid2 gap-3">
                <div
                    class="order-tile2 rounded-lg relative overflow-hidden aspect-square w-[160px]"
                    *ngFor="let order of acceptedOrders; let i = index"
                    (click)="openAssignTechnicianModal()"
                >
                    <img
                        src="{{
                            order.lightboxImages[0]?.imageUrl ?? 'assets/assets/placeholders/issue-placeholder.jpg'
                        }}"
                        class="rounded-lg object-cover h-full"
                        alt="image backgroung"
                    />
                    <div
                        class="
                            absolute
                            top-0
                            h-full
                            w-full
                            text-white
                            bg-opacity-40
                            text-left
                            px-3
                            pb-3
                            flex
                            justify-end
                            flex-col
                        "
                    >
                        <div class="font-normal uppercase text-sm">
                            <span>{{ order.service.name }}</span>
                        </div>
                        <div class="flex items-end justify-between">
                            <div
                                class="
                                    flex flex-col
                                    items-left
                                    justify-start
                                    text-white text-opacity-50
                                    font-light
                                    space-y-1
                                    text-2xs
                                    uppercase
                                "
                            >
                                <span>{{ order.yachts.hailingPort }}</span>
                            </div>
                            <img src="assets/assets/images/icons/icon-map-fade.svg" alt="" class="w-5" />
                        </div>
                    </div>
                    <div class="absolute top-2 right-2 text-white" [hidden]="selectedIndex !== i">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path
                                fill-rule="evenodd"
                                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                clip-rule="evenodd"
                            />
                        </svg>
                    </div>
                </div>

                <!-- <div class="flex justify-between mt-6 items-center w-full">
                    <nav class="inline-flex rounded-xl overflow-hidden">
                        <a class="bg-gray-200 text-gray-700 py-1 px-4 text-sm">Prev</a>
                        <a class="bg-sky-600 py-1 px-3 text-sm text-white">1</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">2</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">3</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">...</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">10</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">11</a>
                        <a class="bg-white py-1 px-3 text-sm text-gray-700 border-r border-y border-r-gray-200">12</a>
                        <a class="bg-gray-200 text-gray-700 py-1 px-4 text-sm">Next</a>
                    </nav>
                    <span class="text-xs uppercase text-gray-500">Showing 4 of 12</span>
                </div> -->
            </div>
        </div>
    </div>
    <div class="w-1/2 lg:w-1/3 grow h-auto mb-4" *ngIf="orderDetail">
        <div class="bg-white rounded-lg py-5 overflow-y-scroll px-5">
            <img
                src="{{
                    orderDetail.lightboxImages[0]?.imageUrl ?? 'assets/assets/placeholders/issue-placeholder.jpg'
                }}"
                class="rounded-lg object-cover h-[360px]"
                alt=""
            />
            <div class="flex flex-wrap gap-3 mt-4 image-thumb-grid" *ngFor="let image of orderDetail.lightboxImages">
                <img [src]="image.imageUrl" alt="" class="w-20 aspect-square rounded-lg image-thumb" />
            </div>
            <div class="flex flex-row items-start justify-between mt-4 w-full">
                <div>
                    <h4 class="text-xl uppercase mb-2 font-semibold">{{ orderDetail.service.name }}</h4>
                    <div class="flex gap-3">
                        <img src="assets/assets/icons/icon-calendar.svg" alt="" />
                        <span class="text-gray-400">{{ getDateFormatted(orderDetail.serviceOrder.creationTime) }}</span>
                    </div>
                </div>
                <div class="flex flex-row gap-3">
                    <button class="text-white bg-brandPrimaryBlue rounded-lg py-2 px-3 text-center">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-6 w-6"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                            stroke-width="2"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
                            />
                        </svg>
                    </button>
                    <button class="text-white bg-white rounded-lg py-2 px-3 text-center border-[#E9E9E9] border-2">
                        <img src="assets/assets/icons/icon-award.svg" alt="" />
                    </button>
                    <button class="text-white bg-white rounded-lg py-2 px-3 text-center border-[#E9E9E9] border-2">
                        <img src="assets/assets/icons/icon-book-open.svg" alt="" />
                    </button>
                </div>
            </div>
            <div class="mt-2 py-3 font-light">
                <p>
                    {{ orderDetail.serviceOrder.description }}
                </p>
            </div>

            <div class="flex gap-4">
                <!-- View: Buttons Accept/Decline -->
                <button
                    *ngIf="!thisOrderAccepted(orderDetail.serviceOrder.id)"
                    class="
                        mt-5
                        rounded-lg
                        bg-white
                        text-brandPrimaryBlue
                        border-brandPrimaryBlue border
                        font-light
                        py-3
                        px-8
                    "
                >
                    Decline
                </button>
                <button
                    *ngIf="!thisOrderAccepted(orderDetail.serviceOrder.id)"
                    (click)="acceptOrder(orderDetail.serviceOrder.id)"
                    class="mt-5 rounded-lg bg-brandPrimaryBlue text-white font-light py-3 px-8"
                >
                    Accept
                </button>

                <!-- View: Button Assign Task -->
                <button
                    (click)="openAssignTechnicianModal()"
                    *ngIf="thisOrderAccepted(orderDetail.serviceOrder.id)"
                    id="assignTaskModal"
                    class="mt-5 rounded-lg bg-brandPrimaryBlue text-white font-light py-3 px-5 modal-trigger"
                >
                    Assign Task
                </button>
            </div>
        </div>
    </div>
</div>
